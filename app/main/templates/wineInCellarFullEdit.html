<ion-view view-title="{{vm.creationMode ? 'wineInCellarFullEdit.title.create' : 'wineInCellarFullEdit.title.edit' | translate}}">
  <ion-content>
    <form name="$parent.form">

      <div class="formList" class="list">
        <label class="item item-input">
          <span class="input-label" translate="cavaVinApp.wine.name">Nom</span>
          <input type="text" ng-model="vm.userWine.vintage.wine.name" required>
        </label>

        <label class="item item-input">
          <span class="input-label" translate="cavaVinApp.wine.appellation">Appellation</span>
          <input type="text" ng-model="vm.userWine.vintage.wine.appellation">
        </label>

        <label class="item item-input">
          <span class="input-label" translate="cavaVinApp.wine.producer">Producteur</span>
          <input type="text" ng-model="vm.userWine.vintage.wine.producer" required>
        </label>

        <label class="item item-input item-select">
          <div class="input-label" translate="cavaVinApp.wine.region">
            Région
          </div>
          <select ng-model="vm.userWine.vintage.wine.region" ng-options="region as region.regionName for region in vm.regions track by region.id"
            required>
            <option value=""></option>
          </select>
        </label>
        <label class="item item-input" ng-show="vm.userWine.vintage.wine.region.regionName=='Autre'">
          <span class="input-label" translate="entity.detail.other">Autre</span>
          <input type="text" placeholder="Nom région" ng-model="vm.newRegion.regionName" ng-required="vm.userWine.vintage.wine.region.regionName=='Autre'"
          />
        </label>

        <label class="item item-input item-select">
          <div class="input-label" translate="cavaVinApp.wine.color">
            Couleur
          </div>
          <select ng-model="vm.userWine.vintage.wine.color" ng-options="color as color.colorName for color in vm.colors track by color.id"
            required>
            <option value=""></option>
          </select>
        </label>
        <label class="item item-input" ng-show="vm.userWine.vintage.wine.color.colorName=='Autre'">
          <span class="input-label" translate="entity.detail.other">Autre</span>
          <input type="text" placeholder="Nom couleur" ng-model="vm.newColor.colorName" ng-required="vm.userWine.vintage.wine.color.colorName=='Autre'"
          />
        </label>
        <ion-toggle ng-if="vm.creationMode" toggle-class="toggle-positive" ng-model="vm.addToCellar" >{{'wineInCellarEdit.title.create' | translate}}</ion-toggle>

        <div ng-if="!vm.creationMode || (vm.creationMode && vm.addToCellar)" >
          <label class="item item-input">
            <div class="input-label" translate="cavaVinApp.wine.year">
              Année
            </div>
            <input type="number" step="1" ng-model="vm.userWine.vintage.year" ng-pattern="/^\d{4}$/" required>
          </label>

          <label class="item item-input">
            <span class="input-label" translate="cavaVinApp.wine.minKeep">Garde minimale</span>
            <input type="number" step="1" ng-model="vm.userWine.minKeep">
          </label>

          <label class="item item-input">
            <span class="input-label" translate="cavaVinApp.wine.maxKeep">Garde maximale</span>
            <input type="number" step="1" ng-model="vm.userWine.maxKeep">
          </label>

          <label class="item item-input">
            <span class="input-label" translate="cavaVinApp.wineInCellar.quantity">Quantité</span>
            <input type="number" ng-model="vm.userWine.quantity" required>
          </label>

          <label class="item item-input">
            <span class="input-label" translate="cavaVinApp.wineInCellar.location">Emplacement</span>
            <input type="text" ng-model="vm.userWine.location">
          </label>

          <label class="item item-input">
            <span class="input-label" translate="cavaVinApp.wineInCellar.price">Prix</span>
            <input type="number" step="0.01" ng-model="vm.userWine.price">
          </label>

          <label class="item item-input">
            <span class="input-label" translate="cavaVinApp.wineInCellar.comments">Commentaires</span>
            <input type="text" ng-model="vm.userWine.comments">
          </label>
        </div>
      </div>

      <button type="button" ng-click="vm.submit()" ng-disabled="form.$invalid" class="button button-block button-positive">{{vm.creationMode ? 'entity.action.save' : 'entity.action.edit' | translate}}</button>

    </form>

  </ion-content>
</ion-view>